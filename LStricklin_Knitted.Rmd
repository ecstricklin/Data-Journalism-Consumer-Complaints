---
title: "LStricklin_Flexdashboard"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
library(tidyverse)
library(plotly)
complaints <- readRDS("~/github_stricklin/Data-Journalism-Consumer-Complaints/complaints.rds")
```

Column {data-width=650}
-----------------------------------------------------------------------

### Customer complaints have increased on an upward trend over the past year.

```{r}



complaints2 <- complaints %>%
  count(date_received)

fig <- plot_ly(complaints2, x = ~date_received, y = ~n, type = 'scatter', mode = 'lines')
fig %>% layout(title = 'Number of Customer Complaints per Day', yaxis=list(title = 'Date Received'), xaxis = list(title='Number of Complaints'))
fig

```

Column {data-width=350}
-----------------------------------------------------------------------

### Chart B

```{r}

complaints3 <- complaints %>%
  count(state)
complaints3 <- complaints3 %>% filter(n > 8057)

fig2 <- complaints3 %>% plot_ly(labels = ~state, values = ~n)
fig2 <- fig2 %>% add_pie(hole = 0.6)
fig2 <- fig2 %>% layout(title = 'title', showlegend = F, xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE), yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
fig2

```

### Chart C

```{r}

```

